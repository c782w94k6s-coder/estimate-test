<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>健診・予防薬パック見積もり</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body {
      font-family: sans-serif;
      padding: 20px;
      max-width: 520px;
      margin: auto;
      background: #f7f7f7;
    }
    h1 { text-align: center; }
    label { display: block; margin-top: 15px; font-weight: bold; }
    select, input {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
    }
    button {
      margin-top: 20px;
      width: 100%;
      padding: 12px;
      font-size: 16px;
    }
    #result {
      margin-top: 25px;
      padding: 15px;
      background: #fff;
      border-radius: 8px;
      font-size: 16px;
    }
  </style>
</head>
<body>

<h1>健診・予防薬パック見積もり</h1>

<label>
  種類
  <select id="animal" onchange="switchMedicine()">
    <option value="dog">犬</option>
    <option value="cat">猫</option>
  </select>
</label>

<label>
  体重（kg）
  <input type="number" id="weight" step="0.1">
</label>

<label>
  健診コース
  <select id="course">
    <option value="light">ライト</option>
    <option value="standard">スタンダード</option>
    <option value="premium">プレミアム</option>
  </select>
</label>

<!-- 犬用予防薬 -->
<label id="dogMedicineBox">
  予防薬（犬）
  <select id="dogMedicine">
    <option value="">選択してください</option>
    <option value="dog8_8">ノミダニ8ヶ月＋フィラリア8ヶ月</option>
    <option value="dog12_8">ノミダニ12ヶ月＋フィラリア8ヶ月</option>
    <option value="dog12_12">ノミダニ12ヶ月＋フィラリア12ヶ月</option>
  </select>
</label>

<!-- 猫用予防薬 -->
<label id="catMedicineBox">
  予防薬（猫）
  <select id="catMedicine">
    <option value="">選択してください</option>
    <option value="cat4">ノミダニ4ヶ月分</option>
    <option value="cat8">ノミダニ8ヶ月分</option>
    <option value="cat12">ノミダニ12ヶ月分</option>
  </select>
</label>

<button onclick="calculate()">見積もりを出す</button>

<div id="result"></div>

<script>
function switchMedicine() {
  const animal = document.getElementById("animal").value;
  document.getElementById("dogMedicineBox").style.display =
    animal === "dog" ? "block" : "none";
  document.getElementById("catMedicineBox").style.display =
    animal === "cat" ? "block" : "none";

  // 切り替え時にリセット
  document.getElementById("dogMedicine").value = "";
  document.getElementById("catMedicine").value = "";
}

// 初期表示
switchMedicine();

function calculate() {
  const animal = document.getElementById("animal").value;
  const weight = parseFloat(document.getElementById("weight").value);
  const course = document.getElementById("course").value;

  if (isNaN(weight) || weight <= 0) {
    document.getElementById("result").textContent = "体重を正しく入力してください。";
    return;
  }

  /* 健診価格 */
  let examPrice = 0;
  if (course === "light") examPrice = 7700;

  if (course === "standard") {
    if (weight <= 10) examPrice = 18700;
    else if (weight <= 20) examPrice = 20900;
    else if (weight <= 40) examPrice = 23100;
    else examPrice = 25300;
  }

  if (course === "premium") {
    if (weight <= 10) examPrice = 36300;
    else if (weight <= 20) examPrice = 38500;
    else if (weight <= 40) examPrice = 44000;
    else examPrice = 49500;
  }

  /* 予防薬価格 */
  let medType = "";
  let medPrice = 0;

  if (animal === "dog") {
    medType = document.getElementById("dogMedicine").value;
    if (!medType) {
      document.getElementById("result").textContent = "犬の予防薬を選択してください。";
      return;
    }

    if (medType === "dog8_8") {
      if (weight <= 5.6) medPrice = 18480;
      else if (weight <= 10) medPrice = 20790;
      else if (weight <= 11.3) medPrice = 23100;
      else if (weight <= 20) medPrice = 26950;
      else if (weight <= 22.6) medPrice = 28490;
      else medPrice = 31570;
    }

    if (medType === "dog12_8") {
      if (weight <= 5.6) medPrice = 24640;
      else if (weight <= 10) medPrice = 26950;
      else if (weight <= 11.3) medPrice = 30580;
      else if (weight <= 20) medPrice = 34430;
      else if (weight <= 22.6) medPrice = 36850;
      else medPrice = 39930;
    }

    if (medType === "dog12_12") {
      if (weight <= 5.6) medPrice = 29040;
      else if (weight <= 10) medPrice = 32670;
      else if (weight <= 11.3) medPrice = 36300;
      else if (weight <= 20) medPrice = 42350;
      else if (weight <= 22.6) medPrice = 44770;
      else medPrice = 49610;
    }
  }

  if (animal === "cat") {
    medType = document.getElementById("catMedicine").value;
    if (!medType) {
      document.getElementById("result").textContent = "猫の予防薬を選択してください。";
      return;
    }

    if (medType === "cat4") {
      if (weight <= 2.5) medPrice = 7480;
      else if (weight <= 4.9) medPrice = 7920;
      else medPrice = 8360;
    }

    if (medType === "cat8") {
      if (weight <= 2.5) medPrice = 13090;
      else if (weight <= 4.9) medPrice = 13860;
      else medPrice = 14630;
    }

    if (medType === "cat12") {
      if (weight <= 2.5) medPrice = 20570;
      else if (weight <= 4.9) medPrice = 21780;
      else medPrice = 22990;
    }
  }

  const total = examPrice + medPrice;

  document.getElementById("result").innerHTML = `
    【見積もり結果】<br>
    健診：¥${examPrice.toLocaleString()}<br>
    予防薬：¥${medPrice.toLocaleString()}<br><br>
    <strong>合計：¥${total.toLocaleString()}</strong><br>
    <small>※目安の金額です</small>
  `;
}
</script>

</body>
</html>
